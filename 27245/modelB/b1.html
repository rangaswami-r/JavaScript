<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tic-Tac-Toe with Auto-Remove</title>
<style>
  #board {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    grid-gap: 5px;
    width: 315px;
    margin: 50px auto;
  }
  .cell {
    width: 100px;
    height: 100px;
    background: #eee;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
  }
  .cell:hover {
    background: #ddd;
  }
  .winner {
    background: #aaffaa;
  }
  #status {
    text-align: center;
    font-size: 1.5em;
  }
</style>
</head>
<body>

<div id="status">Player X's Turn</div>
<div id="board">
  <div class="cell" data-index="0"></div>
  <div class="cell" data-index="1"></div>
  <div class="cell" data-index="2"></div>
  <div class="cell" data-index="3"></div>
  <div class="cell" data-index="4"></div>
  <div class="cell" data-index="5"></div>
  <div class="cell" data-index="6"></div>
  <div class="cell" data-index="7"></div>
  <div class="cell" data-index="8"></div>
</div>

<script>
  const cells = document.querySelectorAll('.cell');
  let currentPlayer = 'X';
  let moves = { 'X': [], 'O': [] };
  const winPatterns = [
    [0,1,2], [3,4,5], [6,7,8], // rows
    [0,3,6], [1,4,7], [2,5,8], // columns
    [0,4,8], [2,4,6]           // diagonals
  ];

  function checkWinner(board) {
    for (let pattern of winPatterns) {
      const [a, b, c] = pattern;
      if (board[a] && board[a] === board[b] && board[a] === board[c]) {
        return board[a];
      }
    }
    return null;
  }

  function makeMove(cell, index) {
    if (!cell.textContent) {
      cell.textContent = currentPlayer;
      moves[currentPlayer].push(index);

      if (checkWinner([...cells].map(c => c.textContent))) {
        document.getElementById('status').textContent = `Player ${currentPlayer} wins!`;
        cells.forEach(c => c.onclick = null);
        return;
      }

      if (moves[currentPlayer].length > 2) {
        let oldestMove = moves[currentPlayer].shift();
        cells[oldestMove].textContent = '';
      }

      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      document.getElementById('status').textContent = `Player ${currentPlayer}'s Turn`;
    }
  }

  cells.forEach((cell, index) => {
    cell.onclick = () => makeMove(cell, index);
  });
</script>

</body>
</html>
